<head>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">

  <link rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
</head>

<app-spinner-loader *ngIf="cargando" [message]="message"></app-spinner-loader>
<body>

  
  <div class="header">
    <div class="left-content">
        <button id="btn-home" (click)="volver()"><i style="margin-right: 15px;" class="fas fa-home"></i>Home</button>
        <div class="buton-back">
        </div>
        <img src="assets/homeassets/register_pac.png"  alt="">
        <div class="recomendacion">
          <label for="">Por favor conteste a las preguntas con honestidad.</label>
          <label for=""><i class="far fa-check-circle"></i>Estas nos ayudarán a poder brindarte la atencion que necesitas.</label>
        </div>
    </div>
   
    <div class="form-stepper">
      <h5 class="title">Registrar Consulta</h5>
      <label class="subtitle">Para poder ayudarlo, necesitamos que rellene los siguientes datos.
</label>
      <form action="#" class="form">

        <div class="progressbar">
          <div class="progress" id="progress"></div>
          <div class="progress-step progress-step-active" data-title="1-10"></div>
          <div class="progress-step" data-title="11-19"></div>
          <div class="progress-step" data-title="Datos Personales"></div>

        </div>
        <!-- Progress bar -->


        <!-- Steps -->
        <div class="form-step form-step-active">
          <ul class="quizz" >
            <li class="question" *ngFor="let pregunta of part1;let i=index"><label for="">{{i+1 + '.  ' + '   '}}{{pregunta.name}}
              </label><div>
                <mat-radio-group  [(ngModel)]="pregunta.value" (change)="continue()">
                  <mat-radio-button value="true" style="margin: 10px">
                    Si
                  </mat-radio-button>
                  <mat-radio-button value="false" style="margin: 10px">
                    No
                  </mat-radio-button>
                </mat-radio-group>
              </div></li>
           
          </ul>

          <div class="">
            <button class="btn btn-next width-50 ml-auto" ><i class="fas
                fa-caret-right"></i></button>
          </div>
        </div>

        <div class="form-step">
          <ul class="quizz" >
            <li class="question" *ngFor="let pregunta of part2;let i=index"><label for="">{{i+11 + '.  ' + '   '}}{{pregunta.name}}
              </label><div>
                <mat-radio-group [(ngModel)]="pregunta.value" (change)="continue()" >
                  <mat-radio-button value="true" style="margin: 10px"  >
                    Si
                  </mat-radio-button>
                  <mat-radio-button value="false" style="margin: 10px" >
                    No
                  </mat-radio-button>
                </mat-radio-group>
              </div></li>
           
          </ul>

          <div class="">
            <button class="btn btn-prev"><i class="fas fa-caret-left"></i></button>
            <button class="btn btn-next width-50 ml-auto" [disabled]="!continuar"   (click)="cambiartexto()" ><i class="fas
                fa-caret-right"></i></button>
          </div>
        </div>

      


        <div class="form-step">
          <form [formGroup]="personaform" class="login-form">
            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >Nombre completo<span style="color: red;">*</span></label>
              <div class="col-sm-4 ml-8">
                <input type="text" formControlName="nombre" placeholder="Nombre"   [class.is-valid]="this.personaform.get('nombre').valid"  [class.is-invalid]="this.personaform.get('nombre').invalid && this.personaform.get('nombre').touched"    class="form-control" >
              </div>
              
              <div class="col-sm-4 ml-8">
                <input type="text"  formControlName="apellido" placeholder="Apellidos" [class.is-valid]="this.personaform.get('apellido').valid"  [class.is-invalid]="this.personaform.get('apellido').invalid && this.personaform.get('apellido').touched" class="form-control" >
              </div>
            </div>

            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >Correo electrónico</label>
              <div class="col-sm-8 ml-8">
                <input type="text" formControlName="correo" placeholder="example@gmail.com"    [class.is-invalid]="this.personaform.get('correo').invalid && this.personaform.get('correo').touched"    class="form-control" >
                <div *ngIf="this.personaform.get('correo').hasError('email') && this.personaform.get('correo').touched" class="invalid-feedback">
                  Porfavor ingrese un correo valido
                </div>
              </div>
             
            </div>

            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4  col-form-label" >Sexo<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <select  formControlName="genero" style="width: 100%;"  [class.is-invalid]="this.personaform.get('genero').invalid && this.personaform.get('genero').touched" class="form-select">
                  <option value="H">
                    Hombre
                  </option>
                  <option value="M">
                    Mujer
                  </option>
                </select>
              </div>
            </div>

            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >Edad<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <input type="text" formControlName="edad"  placeholder="22" [class.is-valid]="this.personaform.get('edad').valid"  [class.is-invalid]="this.personaform.get('edad').invalid && this.personaform.get('edad').touched"    class="form-control" >
                <div *ngIf="this.personaform.get('edad').hasError('pattern') && this.personaform.get('edad').touched" class="invalid-feedback">
                  Digite un edad valida
                </div>
              </div>
             
            </div>

            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >Celular<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <input type="text" formControlName="telefono"  placeholder="999999999" [class.is-valid]="this.personaform.get('telefono').valid"  [class.is-invalid]="this.personaform.get('telefono').invalid && this.personaform.get('telefono').touched"    class="form-control" >
                <div *ngIf="this.personaform.get('telefono').hasError('pattern') && this.personaform.get('telefono').touched" class="invalid-feedback">
                  Porfavor digite un numero valido
                </div>
              </div>
             
            </div>


            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >DNI<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <input type="text" formControlName="dni"     [class.is-invalid]="this.personaform.get('dni').invalid && this.personaform.get('dni').touched"  [class.is-valid]="this.personaform.get('dni').valid && this.personaform.get('dni').touched"  class="form-control" >
                <div *ngIf="this.personaform.get('dni').hasError('pattern') && this.personaform.get('dni').touched" class="invalid-feedback">
                   Max 8 digitos
                </div>
              </div>
            </div>
            <form [formGroup]="pacienteform" >
            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >Departamento<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <select  formControlName="departamento" style="width: 100%;" (change)="list_provincias($event)"   class="form-select" >
                  <option  *ngFor="let dep of departamentos"  value="{{dep.nombre_ubigeo}}" >{{dep.nombre_ubigeo}}</option>
                </select>
              </div>
             
            </div>
            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >Provincia<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <select  formControlName="provincia"  style="width: 100%;" (change)="list_distritos($event)"  class="form-select">
                  <option  *ngFor="let dep of provincias_dist"  value="{{dep.nombre_ubigeo}}">{{dep.nombre_ubigeo}}</option>
                </select>
              </div>
             
            </div>
            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >Distrito<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <select  formControlName="distrito"  style="width: 100%;"   class="form-select">
                  <option  *ngFor="let dep of distritos_dep"  value="{{dep.nombre_ubigeo}}">{{dep.nombre_ubigeo}}</option>
                </select>
              </div>
             
            </div>

            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >¿Cómo conoció de OÍDO AMIGO?<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <select  formControlName="como_conocio"  style="width: 100%;"   [class.is-valid]="this.pacienteform.get('como_conocio').valid && this.pacienteform.get('como_conocio').touched"  [class.is-invalid]="this.pacienteform.get('como_conocio').invalid && this.pacienteform.get('como_conocio').touched" class="form-select">
                  <option value="Familiar">Familiar</option>
                  <option value="DRE PASCO">DRE PASCO</option>
                  <option value="Redes Sociales">Redes Sociales</option>
                  <option value="Amigo">Amigo</option>
                  <option value="Municipalidad de Chaclacayo">Municipalidad de Chaclacayo</option>
                  <option value="Iglesia">Iglesia</option>
                </select>
              </div>
             
            </div>  

            <div class="mb-3 row">
              <label for="staticEmail" class="col-sm-4 col-form-label" >  Motivo de consulta<span style="color: red;">*</span></label>
              <div class="col-sm-8 ml-8">
                <textarea formControlName="descripcion"  [class.is-valid]="this.pacienteform.get('descripcion').valid && this.pacienteform.get('descripcion').touched"  [class.is-invalid]="this.pacienteform.get('descripcion').invalid && this.pacienteform.get('descripcion').touched"       class="form-control" ></textarea>
              </div>
            </div>  
           
           </form>
           
            <div  style="display: flex;width: 100%; margin-top: 20px">
              <input type="checkbox" class="form-check-input" #ischeck id="ischeck" (change)="change_use(ischeck.checked)">
              <label  style="color: black; 
              font-size: 13.5px;
              margin-left: 20px;
              margin-top: -4px;">Permitir uso de  sus datos para la consulta (tus datos seran manejados con absoluta confidencialidad).</label>
            </div>

          </form>
          <div>
            <button class="btn btn-prev"><i class="fas fa-caret-left"></i></button>
            <button class="btn-step" id="enviar" [disabled]="personaform.invalid || pacienteform.invalid || valid_use == false"
              (click)="guardarpaciente();">Registrarse</button>
          </div>
        </div>
      </form>

    </div>

  </div>
</body>